---
import HeaderMobile from "@/components/molecules/HeaderMobile.astro";
import "@/styles/hamburguer-menu.css";
import BlogLayout from "@layouts/BlogLayout.astro";
import HtmlLayout from "@layouts/HtmlLayout.astro";
---

<BlogLayout>
  <HeaderMobile hidden={false} />
  <div class="algorithms">
    <div class="algorithms__content">
      <section class="algorithms__header">
        <h1 class="algorithms__title">Algoritmos y estructuras de datos</h1>
        <hr />
        <nav class="algorithms__index">
          <h2>Índice de temas</h2>
          <ul>
            <li>
              <a class="algorithms__index-link" href="#por-que-proyecto"
                >¿Por qué este proyecto?</a
              >
            </li>
            <li>
              <a
                class="algorithms__index-link"
                href="#como-aprovechar-contenido"
                >¿Cómo aprovechar al máximo el contenido?</a
              >
            </li>
            <li>
              <a class="algorithms__index-link" href="#algoritmos-ia"
                >¿Vale la pena aprender algoritmos en la era de la inteligencia
                artificial?</a
              >
            </li>
          </ul>
        </nav>
      </section>
      <section id="por-que-proyecto">
        <h2 class="title-2">¿Por qué este proyecto?</h2>
        <p>
          Este proyecto nace de la necesidad de ofrecer un recurso claro y
          accesible para quienes desean aprender algoritmos y estructuras de
          datos desde cero o reforzar sus conocimientos. En un mundo donde la
          tecnología avanza rápidamente, comprender estos conceptos es
          fundamental para resolver problemas de manera eficiente y desarrollar
          software de calidad. Aquí encontrarás explicaciones sencillas,
          ejemplos prácticos y ejercicios para poner en práctica lo aprendido.
        </p>
      </section>
      <section id="como-aprovechar-contenido">
        <h2 class="title-2">¿Cómo aprovechar al máximo el contenido?</h2>
        <p>
          Te recomendamos avanzar de manera secuencial por los temas, realizando
          los ejercicios propuestos y experimentando con los ejemplos. No dudes
          en consultar recursos adicionales y compartir tus dudas o soluciones
          con la comunidad. La clave está en la práctica constante y en la
          curiosidad por entender cómo y por qué funcionan los algoritmos y
          estructuras de datos.
        </p>
      </section>
      <section id="algoritmos-ia">
        <h2 class="title-2">
          ¿Vale la pena aprender algoritmos en la era de la inteligencia
          artificial?
        </h2>
        <p>
          Aunque la inteligencia artificial y las herramientas automatizadas
          están transformando la industria, el conocimiento de algoritmos sigue
          siendo esencial. Entender cómo se procesan los datos, optimizar
          soluciones y analizar la eficiencia de los programas son habilidades
          que ninguna herramienta puede reemplazar por completo. Aprender
          algoritmos te permite comprender mejor la tecnología y te prepara para
          enfrentar nuevos desafíos en el desarrollo de software.
        </p>
      </section>
    </div>
    <div class="algorithms__nav-right">
      <nav class="algorithms__index">
        <h2>Índice de temas</h2>
        <ul>
          <li>
            <a class="algorithms__index-link" href="#por-que-proyecto"
              >¿Por qué este proyecto?</a
            >
          </li>
          <li>
            <a class="algorithms__index-link" href="#como-aprovechar-contenido"
              >¿Cómo aprovechar al máximo el contenido?</a
            >
          </li>
          <li>
            <a class="algorithms__index-link" href="#algoritmos-ia"
              >¿Vale la pena aprender algoritmos en la era de la inteligencia
              artificial?</a
            >
          </li>
        </ul>
      </nav>
    </div>
  </div>

  <!-- Botón hamburguesa -->
  <button class="hamburger-btn hamburger hamburger--collapse" id="hamburgerBtn">
    <span class="hamburger-box">
      <span class="hamburger-inner"></span>
    </span>
  </button>

  <!-- Modal del menú -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Navegación</h3>
        <button class="close-btn" id="closeBtn">&times;</button>
      </div>
      <nav class="modal-nav">
        <ul>
          <li>
            <a class="modal-nav-link" href="#por-que-proyecto">
              ¿Por qué este proyecto?
            </a>
          </li>
          <li>
            <a class="modal-nav-link" href="#como-aprovechar-contenido">
              ¿Cómo aprovechar al máximo el contenido?
            </a>
          </li>
          <li>
            <a class="modal-nav-link" href="#algoritmos-ia">
              ¿Vale la pena aprender algoritmos en la era de la IA?
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</BlogLayout>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Navegación suave para links del índice
    const $navLinks = document.querySelectorAll(".algorithms__index-link");
    const $modalNavLinks = document.querySelectorAll(".modal-nav-link");
    const $hamburgerBtn = document.getElementById("hamburgerBtn");
    const $modalOverlay = document.getElementById("modalOverlay");
    const $closeBtn = document.getElementById("closeBtn");

    // Función para scroll suave
    function smoothScrollTo(targetId) {
      const targetElement = document.querySelector(targetId);

      if (targetElement && targetId) {
        const elementPosition = targetElement.getBoundingClientRect().top;
        const offsetPosition = elementPosition + window.pageYOffset;
        const offset = 50;

        window.scrollTo({
          top: offsetPosition - offset,
          behavior: "smooth",
        });

        history.pushState({}, "", targetId);
      }
    }

    // Aplicar scroll suave a enlaces del índice
    $navLinks.forEach((link) => {
      link.addEventListener("click", function (e) {
        e.preventDefault();
        const targetId = link.getAttribute("href");
        smoothScrollTo(targetId);
      });
    });

    // Aplicar scroll suave a enlaces del modal
    $modalNavLinks.forEach((link) => {
      link.addEventListener("click", function (e) {
        e.preventDefault();
        const targetId = link.getAttribute("href");
        smoothScrollTo(targetId);
        closeModal();
      });
    });

    // Funciones del modal
    function openModal() {
      $hamburgerBtn.classList.add("is-active");
      $modalOverlay.classList.add("active");
      document.body.style.overflow = "hidden";
    }

    function closeModal() {
      $hamburgerBtn.classList.remove("is-active");
      $modalOverlay.classList.remove("active");
      document.body.style.overflow = "auto";
    }

    function toggleModal() {
      if ($modalOverlay.classList.contains("active")) {
        closeModal();
      } else {
        openModal();
      }
    }

    // Event listeners para el modal
    $hamburgerBtn.addEventListener("click", toggleModal);
    $closeBtn.addEventListener("click", closeModal);

    // Cerrar modal al hacer click en el overlay
    $modalOverlay.addEventListener("click", function (e) {
      if (e.target === $modalOverlay) {
        closeModal();
      }
    });

    // Cerrar modal con tecla Escape
    document.addEventListener("keydown", function (e) {
      if (e.key === "Escape" && $modalOverlay.classList.contains("active")) {
        closeModal();
      }
    });
  });
</script>

<style>
  :global(body) {
    background-color: var(--bg-dark-light);
  }

  .algorithms {
    padding: 72px 1rem 2rem;
    max-width: 800px;
    margin: 0 auto;
    text-align: left;
  }

  .algorithms__header {
    height: calc(100vh - 60px);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .algorithms__title {
    text-align: center;
    text-transform: capitalize;
    color: var(--text-white);
    font-size: 2rem;
    margin-bottom: 2rem;
  }

  hr {
    border: none;
    border-top: 1px solid var(--border);
    margin: 2rem 0;
  }

  .algorithms__index {
    background: var(--bg-dark-box);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 2rem;
  }

  .algorithms__index h2 {
    color: var(--text-white);
    font-size: 1.2rem;
    margin-bottom: 1rem;
    font-weight: 600;
  }

  .algorithms__index ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .algorithms__index li {
    margin-bottom: 0.75rem;
  }

  .algorithms__index li:last-child {
    margin-bottom: 0;
  }

  .algorithms__index a {
    color: var(--text-grey);
    text-decoration: none;
    display: block;
    padding: 0.5rem 0.75rem;
    border-radius: 4px;
    transition: all 0.3s ease;
    border-left: 3px solid transparent;
  }

  .algorithms__index a:hover {
    background-color: var(--bg-dark-light);
    color: var(--text-white);
    border-left-color: var(--orange);
    transform: translateX(4px);
  }

  .algorithms__index a:active {
    transform: translateX(2px);
  }

  .title-2 {
    color: var(--text-white);
    font-size: 1.5rem;
    padding: 2rem;
  }

  .hamburger-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 56px;
    height: 56px;
    background: var(--orange);
    border: none;
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 4px;
    cursor: pointer;
    z-index: 2000;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    transition: all 0.3s ease;
  }

  .hamburger-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
  }

  .hamburger-line {
    width: 20px;
    height: 2px;
    background: var(--text-dark);
    border-radius: 1px;
    transition: all 0.3s ease;
  }

  /* Modal */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
  }

  .modal-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  .modal-content {
    background: var(--background-dark);
    border: 1px solid var(--border);
    border-radius: 12px;
    width: 90%;
    max-width: 400px;
    max-height: 80vh;
    overflow-y: auto;
    transform: scale(0.9) translateY(20px);
    transition: all 0.3s ease;
  }

  .modal-overlay.active .modal-content {
    transform: scale(1) translateY(0);
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid var(--border);
  }

  .modal-header h3 {
    color: var(--text-white);
    margin: 0;
    font-size: 1.2rem;
  }

  .close-btn {
    background: none;
    border: none;
    color: var(--text-grey);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.3s ease;
  }

  .close-btn:hover {
    background: var(--bg-dark-box);
    color: var(--text-white);
  }

  .modal-nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .modal-nav li {
    border-bottom: 1px solid var(--border);
  }

  .modal-nav li:last-child {
    border-bottom: none;
  }

  .modal-nav-link {
    display: block;
    padding: 1rem 1.5rem;
    color: var(--text-grey);
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .modal-nav-link:hover {
    background: var(--bg-dark-box);
    color: var(--text-white);
  }

  /* Ocultar botón en desktop */
  @media (min-width: 1080px) {
    .hamburger-btn {
      display: none;
    }
  }

  @media (min-width: 768px) {
    .algorithms {
      padding: 72px 2rem 2rem;
    }

    .algorithms__title {
      font-size: 2rem;
    }

    .algorithms__index {
      padding: 2rem;
    }

    .algorithms__index h2 {
      font-size: 1.4rem;
    }

    .algorithms__index li {
      margin-bottom: 1rem;
    }

    .algorithms__index a {
      padding: 0.75rem 1rem;
      font-size: 1.1rem;
    }
  }
</style>
